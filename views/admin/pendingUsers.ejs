<% layout("/layouts/boilerplate") %>

<body class="bg-light">

<div class="content-area p-4">

  <h1 class="fw-bold mb-4">Pending User Verifications</h1>

  <div class="card shadow-sm p-4">

    <div class="table-responsive">
      <table class="table align-middle">
        <thead class="table-light">
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th class="text-center">Actions</th>
          </tr>
        </thead>

        <tbody>
          <% pendingUsers.forEach(u => { %>
            <tr>
              <td><%= u.name %></td>
              <td><%= u.email %></td>
              <td class="text-capitalize"><%= u.role %></td>

              <td class="text-center">

                <div class="d-flex flex-wrap gap-2 justify-content-center">

                  <!-- Approve Button -->
                  <form action="/admin/verify/<%= u._id %>?_method=PUT" method="POST">
                    <button class="btn btn-success btn-sm px-3">
                      Approve
                    </button>
                  </form>

                  <!-- Reject Button -->
                  <form action="/admin/reject/<%= u._id %>?_method=DELETE" method="POST">
                    <button class="btn btn-danger btn-sm px-3">
                      Reject
                    </button>
                  </form>

                </div>

              </td>

            </tr>
          <% }) %>
        </tbody>

      </table>
    </div>

  </div>

</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>

